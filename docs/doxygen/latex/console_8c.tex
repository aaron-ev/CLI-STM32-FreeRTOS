\doxysection{C\+:/\+Users/aaron/main/projects/cli\+\_\+free\+RTOS/workspace/cli\+Free\+RTOS/\+Core/\+Src/console.c File Reference}
\hypertarget{console_8c}{}\label{console_8c}\index{C:/Users/aaron/main/projects/cli\_freeRTOS/workspace/cliFreeRTOS/Core/Src/console.c@{C:/Users/aaron/main/projects/cli\_freeRTOS/workspace/cliFreeRTOS/Core/Src/console.c}}


Command Line Interpreter based on Free\+RTOS and STM32 HAL layer.  


\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{console_8c_aecef8fd16f8135b1d3d4c703d9ff9fdb}\label{console_8c_aecef8fd16f8135b1d3d4c703d9ff9fdb} 
\#define {\bfseries CONSOLE\+\_\+\+VERSION\+\_\+\+MAJOR}~1
\item 
\Hypertarget{console_8c_a23179065f462a838d3b097791e02ca4e}\label{console_8c_a23179065f462a838d3b097791e02ca4e} 
\#define {\bfseries CONSOLE\+\_\+\+VERSION\+\_\+\+MINOR}~0
\item 
\Hypertarget{console_8c_aa413985a990a27ae0d2517c1f8a9bc75}\label{console_8c_aa413985a990a27ae0d2517c1f8a9bc75} 
\#define {\bfseries MAX\+\_\+\+IN\+\_\+\+STR\+\_\+\+LEN}~300
\item 
\Hypertarget{console_8c_aeca2c7550cf2b475245c448975476f7a}\label{console_8c_aeca2c7550cf2b475245c448975476f7a} 
\#define {\bfseries MAX\+\_\+\+OUT\+\_\+\+STR\+\_\+\+LEN}~600
\item 
\Hypertarget{console_8c_a9bb0b544aef811cd527a1405c023c04f}\label{console_8c_a9bb0b544aef811cd527a1405c023c04f} 
\#define {\bfseries MAX\+\_\+\+RX\+\_\+\+QUEUE\+\_\+\+LEN}~300
\item 
\Hypertarget{console_8c_abcd3d8c3082acbb105816e2274d1fb2f}\label{console_8c_abcd3d8c3082acbb105816e2274d1fb2f} 
\#define {\bfseries ASCII\+\_\+\+TAB}~\textquotesingle{}\textbackslash{}t\textquotesingle{}  /\texorpdfstring{$\ast$}{*} Tabulate              \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{console_8c_a089ed4925403ab02a05e603967c74579}\label{console_8c_a089ed4925403ab02a05e603967c74579} 
\#define {\bfseries ASCII\+\_\+\+CR}~\textquotesingle{}\textbackslash{}r\textquotesingle{}  /\texorpdfstring{$\ast$}{*} Carriage return       \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{console_8c_aca3b498f5936dbe4f3076a47c3e1810d}\label{console_8c_aca3b498f5936dbe4f3076a47c3e1810d} 
\#define {\bfseries ASCII\+\_\+\+LF}~\textquotesingle{}\textbackslash{}n\textquotesingle{}  /\texorpdfstring{$\ast$}{*} Line feed             \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{console_8c_a97f70a2430c640e184380e20e1c1d0ea}\label{console_8c_a97f70a2430c640e184380e20e1c1d0ea} 
\#define {\bfseries ASCII\+\_\+\+BACKSPACE}~\textquotesingle{}\textbackslash{}b\textquotesingle{}  /\texorpdfstring{$\ast$}{*} Back space            \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{console_8c_ae896e8d7a039ffa54a1d898ab97cba2a}\label{console_8c_ae896e8d7a039ffa54a1d898ab97cba2a} 
\#define {\bfseries ASCII\+\_\+\+FORM\+\_\+\+FEED}~\textquotesingle{}\textbackslash{}f\textquotesingle{}  /\texorpdfstring{$\ast$}{*} Form feed             \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{console_8c_a3bb28e223b7c203113dc8c0387d43b36}\label{console_8c_a3bb28e223b7c203113dc8c0387d43b36} 
\#define {\bfseries ASCII\+\_\+\+DEL}~127   /\texorpdfstring{$\ast$}{*} Delete                \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{console_8c_a2f49febdb9a75ba9f06b89576666daf4}\label{console_8c_a2f49febdb9a75ba9f06b89576666daf4} 
\#define {\bfseries ASCII\+\_\+\+CTRL\+\_\+\+PLUS\+\_\+C}~3   /\texorpdfstring{$\ast$}{*} CTRL + C              \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{console_8c_a1f7759def2dc9013f65afebcb44d7e1f}\label{console_8c_a1f7759def2dc9013f65afebcb44d7e1f} 
\#define {\bfseries ASCII\+\_\+\+NACK}~21   /\texorpdfstring{$\ast$}{*} Negative acknowledge  \texorpdfstring{$\ast$}{*}/
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{console_8c_af16c4f6d612b882216c45d0694cc91f7}{v\+Console\+Enable\+Rx\+Interrupt}} (void)
\begin{DoxyCompactList}\small\item\em Enables UART RX reception. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{console_8c_a543ad7230077405e260788b3ea15c561}{v\+Task\+Console}} (void \texorpdfstring{$\ast$}{*}pv\+Params)
\begin{DoxyCompactList}\small\item\em Task to handle user commands via serial communication. \end{DoxyCompactList}\item 
Base\+Type\+\_\+t \mbox{\hyperlink{console_8c_a47c84c8572fe023f334d03e60e32f4b1}{xbsp\+Console\+Init}} (uint16\+\_\+t us\+Stack\+Size, UBase\+Type\+\_\+t ux\+Priority, UART\+\_\+\+Handle\+Type\+Def \texorpdfstring{$\ast$}{*}px\+Uart\+Handle)
\begin{DoxyCompactList}\small\item\em Initialize the console by registering all commands and creating a task. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{console_8c_ae494a9643f29b87d6d81e5264e60e57b}{HAL\+\_\+\+UART\+\_\+\+Rx\+Cplt\+Callback}} (UART\+\_\+\+Handle\+Type\+Def \texorpdfstring{$\ast$}{*}huart)
\begin{DoxyCompactList}\small\item\em Callback for UART RX, triggered any time there is a new character. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{console_8c_aed46c015940870568835a6c4118922c6}\label{console_8c_aed46c015940870568835a6c4118922c6} 
char {\bfseries c\+Rx\+Data}
\item 
\Hypertarget{console_8c_a6ed034b02c8652345736e0b05665109b}\label{console_8c_a6ed034b02c8652345736e0b05665109b} 
Queue\+Handle\+\_\+t {\bfseries x\+Queue\+Rx\+Handle}
\item 
\Hypertarget{console_8c_ad2b92ca7267dfab7ab5e2ec8e44d2bf8}\label{console_8c_ad2b92ca7267dfab7ab5e2ec8e44d2bf8} 
UART\+\_\+\+Handle\+Type\+Def \texorpdfstring{$\ast$}{*} {\bfseries px\+Uart\+Dev\+Handle}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Command Line Interpreter based on Free\+RTOS and STM32 HAL layer. 

\begin{DoxyAuthor}{Author}
Aaron Escoboza, Github account\+: \href{https://github.com/aaron-ev}{\texttt{ https\+://github.\+com/aaron-\/ev}}  
\end{DoxyAuthor}


\doxysubsection{Function Documentation}
\Hypertarget{console_8c_ae494a9643f29b87d6d81e5264e60e57b}\label{console_8c_ae494a9643f29b87d6d81e5264e60e57b} 
\index{console.c@{console.c}!HAL\_UART\_RxCpltCallback@{HAL\_UART\_RxCpltCallback}}
\index{HAL\_UART\_RxCpltCallback@{HAL\_UART\_RxCpltCallback}!console.c@{console.c}}
\doxysubsubsection{\texorpdfstring{HAL\_UART\_RxCpltCallback()}{HAL\_UART\_RxCpltCallback()}}
{\footnotesize\ttfamily void HAL\+\_\+\+UART\+\_\+\+Rx\+Cplt\+Callback (\begin{DoxyParamCaption}\item[{UART\+\_\+\+Handle\+Type\+Def \texorpdfstring{$\ast$}{*}}]{huart }\end{DoxyParamCaption})}



Callback for UART RX, triggered any time there is a new character. 


\begin{DoxyParams}{Parameters}
{\em \texorpdfstring{$\ast$}{*}huart} & Pointer to the uart handle. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em void} & \\
\hline
\end{DoxyRetVals}
\Hypertarget{console_8c_af16c4f6d612b882216c45d0694cc91f7}\label{console_8c_af16c4f6d612b882216c45d0694cc91f7} 
\index{console.c@{console.c}!vConsoleEnableRxInterrupt@{vConsoleEnableRxInterrupt}}
\index{vConsoleEnableRxInterrupt@{vConsoleEnableRxInterrupt}!console.c@{console.c}}
\doxysubsubsection{\texorpdfstring{vConsoleEnableRxInterrupt()}{vConsoleEnableRxInterrupt()}}
{\footnotesize\ttfamily void v\+Console\+Enable\+Rx\+Interrupt (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Enables UART RX reception. 


\begin{DoxyParams}{Parameters}
{\em void} & \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em void} & \\
\hline
\end{DoxyRetVals}
\Hypertarget{console_8c_a543ad7230077405e260788b3ea15c561}\label{console_8c_a543ad7230077405e260788b3ea15c561} 
\index{console.c@{console.c}!vTaskConsole@{vTaskConsole}}
\index{vTaskConsole@{vTaskConsole}!console.c@{console.c}}
\doxysubsubsection{\texorpdfstring{vTaskConsole()}{vTaskConsole()}}
{\footnotesize\ttfamily void v\+Task\+Console (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{pv\+Params }\end{DoxyParamCaption})}



Task to handle user commands via serial communication. 


\begin{DoxyParams}{Parameters}
{\em \texorpdfstring{$\ast$}{*}pv\+Params} & Data passed at task creation. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em void} & \\
\hline
\end{DoxyRetVals}
\Hypertarget{console_8c_a47c84c8572fe023f334d03e60e32f4b1}\label{console_8c_a47c84c8572fe023f334d03e60e32f4b1} 
\index{console.c@{console.c}!xbspConsoleInit@{xbspConsoleInit}}
\index{xbspConsoleInit@{xbspConsoleInit}!console.c@{console.c}}
\doxysubsubsection{\texorpdfstring{xbspConsoleInit()}{xbspConsoleInit()}}
{\footnotesize\ttfamily Base\+Type\+\_\+t xbsp\+Console\+Init (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{us\+Stack\+Size,  }\item[{UBase\+Type\+\_\+t}]{ux\+Priority,  }\item[{UART\+\_\+\+Handle\+Type\+Def \texorpdfstring{$\ast$}{*}}]{px\+Uart\+Handle }\end{DoxyParamCaption})}



Initialize the console by registering all commands and creating a task. 


\begin{DoxyParams}{Parameters}
{\em us\+Stack\+Size} & Task console stack size \\
\hline
{\em ux\+Priority} & Task console priority \\
\hline
{\em \texorpdfstring{$\ast$}{*}px\+Uart\+Handle} & Pointer for uart handle. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em Free\+RTOS} & status \\
\hline
\end{DoxyRetVals}
